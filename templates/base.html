<!DOCTYPE html>
<html lang="uk" class="">
<head>
    <meta charset="UTF-8" />
    <title>Booking System</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Tailwind –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Ç—ë–º–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ -->
    <script>
      tailwind.config = {
        darkMode: 'class'
      };
    </script>
</head>
<body class="bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-100 transition-colors duration-300">

    <!-- Header -->
    <header class="bg-indigo-700 text-white p-4 shadow-md dark:bg-indigo-900">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-bold">–°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è üìÖ</h1>
            <nav class="space-x-4 flex items-center">
                <a href="{% url 'room_list' %}" class="hover:underline">–ö—ñ–º–Ω–∞—Ç–∏ üè†</a>
                {% if user.is_authenticated %}
                    <a href="{% url 'profile' %}" 
                       class="text-sm bg-yellow-400 text-black px-3 py-1 rounded hover:bg-yellow-500 transition inline-block">
                        üëã {{ user.username }}
                    </a>
                    <form action="{% url 'logout' %}" method="post" class="inline ml-4">
                        {% csrf_token %}
                        <button type="submit" class="text-yellow-300 hover:text-yellow-400">–í–∏–π—Ç–∏</button>
                    </form>
                {% else %}
                    <a href="{% url 'login' %}" class="hover:underline text-green-200">–£–≤—ñ–π—Ç–∏ üîê</a>
                    <a href="{% url 'register' %}" class="hover:underline text-yellow-200">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è ‚úçÔ∏è</a>
                {% endif %}

                <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã -->
                <button id="toggle-theme"
                        class="ml-4 px-3 py-1 text-sm bg-indigo-500 text-white rounded hover:bg-indigo-600 transition">
                    üåó –¢–µ–º–∞
                </button>
            </nav>
        </div>
    </header>

    <!-- Content -->
    <main class="container mx-auto p-6">
        {% if messages %}
          <div class="max-w-3xl mx-auto mb-6">
            {% for message in messages %}
              <div class="p-4 mb-4 rounded
                  {% if message.tags == 'error' %} bg-red-200 text-red-800 dark:bg-red-800 dark:text-red-100
                  {% elif message.tags == 'success' %} bg-green-200 text-green-800 dark:bg-green-800 dark:text-green-100
                  {% else %} bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100 {% endif %}">
                {{ message }}
              </div>
            {% endfor %}
          </div>
        {% endif %}

        {% block content %}
        {% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white text-center p-4 mt-10 dark:bg-gray-900">
        &copy; 2025 –°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è. –í—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.
    </footer>

    <!-- –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã -->
    <script>
      const toggleButton = document.getElementById('toggle-theme');
      const htmlElement = document.documentElement;

      // –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é —Ç–µ–º—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
      document.addEventListener("DOMContentLoaded", () => {
        const savedTheme = localStorage.getItem("theme");
        if (savedTheme === "dark") {
          htmlElement.classList.add("dark");
        }
      });

      // –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
      toggleButton.addEventListener("click", () => {
        if (htmlElement.classList.contains("dark")) {
          htmlElement.classList.remove("dark");
          localStorage.setItem("theme", "light");
        } else {
          htmlElement.classList.add("dark");
          localStorage.setItem("theme", "dark");
        }
      });
    </script>
</body>
</html>
