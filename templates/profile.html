{% extends "base.html" %}
{% block content %}
<div class="max-w-3xl mx-auto mt-10 p-6 bg-white shadow-lg rounded-lg">
  <h1 class="text-3xl font-bold mb-6">üë§ –ü—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</h1>

  <section class="mb-8">
    <h2 class="text-xl font-semibold mb-2">‚ÑπÔ∏è –û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h2>
    <p>üë§ <strong>–Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:</strong> {{ user.username }}</p>
    <p>üìß <strong>Email:</strong> {{ user.email }}</p>
  </section>

  <section>
    <h2 class="text-xl font-semibold mb-4">üìÖ –ê–∫—Ç–∏–≤–Ω—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è</h2>
    {% if active_bookings %}
      <ul class="space-y-4">
        {% for booking in active_bookings %}
          <li class="border p-4 rounded hover:shadow-md transition relative bg-gray-50">
            <p>üè† <strong>–ö—ñ–º–Ω–∞—Ç–∞:</strong> {{ booking.location.title }} (–ù–æ–º–µ—Ä {{ booking.location.number }})</p>
            <p>üìÜ <strong>–î–∞—Ç–∞ –∑–∞—ó–∑–¥—É:</strong> {{ booking.start_date }}</p>
            <p>üìÖ <strong>–î–∞—Ç–∞ –≤–∏—ó–∑–¥—É:</strong> {{ booking.end_date }}</p>

            <form action="{% url 'cancel_booking' booking.pk %}" method="post" class="mt-4">
              {% csrf_token %}
              <button type="submit" class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700">
                ‚ùå –°–∫–∞—Å—É–≤–∞—Ç–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
              </button>
            </form>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>üòî –ù–µ–º–∞—î –∞–∫—Ç–∏–≤–Ω–∏—Ö –±—Ä–æ–Ω—é–≤–∞–Ω—å.</p>
    {% endif %}
  </section>

  <section class="mt-10">
    <h2 class="text-xl font-semibold mb-4">üìú –ú–∏–Ω—É–ª—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è</h2>
    {% if past_bookings %}
      <ul class="space-y-3">
        {% for booking in past_bookings %}
          <li class="border p-3 rounded bg-gray-100">
            üèÅ <strong>{{ booking.location.title }}</strong>: {{ booking.start_date }} ‚Äî {{ booking.end_date }}
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>‚ÑπÔ∏è –£ –≤–∞—Å —â–µ –Ω–µ –±—É–ª–æ –º–∏–Ω—É–ª–∏—Ö –±—Ä–æ–Ω—é–≤–∞–Ω—å.</p>
    {% endif %}
  </section>
</div>
{% endblock %}

